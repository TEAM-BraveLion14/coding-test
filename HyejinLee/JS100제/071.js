// # ë¬¸ì œ71 : ê¹Šì´ ìš°ì„  íƒìƒ‰

// **ê¹Šì´ ìš°ì„  íƒìƒ‰**ì´ë€ ëª©í‘œí•œ ë…¸ë“œë¥¼ ì°¾ê¸° ìœ„í•´ ê°€ì¥ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ë…¸ë“œì˜ ìì‹ìœ¼ë¡œ ê¹Šì´ ë“¤ì–´ê°”ë‹¤ê°€ ëª©í‘œ ë…¸ë“œê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì²˜ìŒ ë°©ë¬¸í•œ ë…¸ë“œì™€ ì—°ê²°ëœ ë‹¤ë¥¸ ë…¸ë“œë¶€í„° ê·¸ ìì‹ ë…¸ë“œë¡œ íŒŒê³ ë“œëŠ” ê²€ìƒ‰ ë°©ë²•ì„ ë§í•©ë‹ˆë‹¤.


// ë‹¤ìŒê³¼ ê°™ì´ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ë…¸ë“œë“¤ì˜ ì—°ê²° ê´€ê³„ê°€ ì£¼ì–´ì§„ë‹¤ê³  í•  ë•Œ ê¹Šì´ ìš°ì„  íƒìƒ‰ìœ¼ë¡œ ì´ ë…¸ë“œë“¤ì„ íƒìƒ‰í–ˆì„ ë•Œì˜ ìˆœì„œë¥¼ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ì¶œë ¥í•˜ì„¸ìš”.

ë°ì´í„°
graph = {'E': ['D', 'A'],
         'F': ['D'],
         'A': ['E', 'C', 'B'],
         'B': ['A'],
         'C': ['A'],
         'D': ['E','F']}


ì¶œë ¥
E D F A C B

----------------------------------------------------------

[ë‹¤ì‹œ í’€ì–´ë³´ê¸° ğŸ“›ğŸ“›ğŸ“›]

// ë‚´ ì½”ë“œ
// ë‹µì•ˆ ì½”ë“œ ì£¼ì„

graph = {'E': ['D', 'A'],
         'F': ['D'],
         'A': ['E', 'C', 'B'],
         'B': ['A'],
         'C': ['A'],
         'D': ['E','F']}


function dfs(graph, start){
  let visited = [];   // ë°©ë¬¸ ì—¬ë¶€ í™•ì¸
  let stack = [start];     // dfsëŠ” stack ì‚¬ìš©, ì²˜ìŒêº¼ëŠ” ì¼ë‹¨ ë¬´ì¡°ê±´ ë“¤ì–´ê°€ ìˆëŠ” ìƒíƒœ

  // stackì— ë¬´ì–¸ê°€ê°€ ë‚¨ì•„ìˆì„ ë•Œê¹Œì§€ë§Œ ì§„í–‰ 
  while(stack.length){
    // stackì—ì„œ ì œê±°í•˜ëŠ” ê²ƒì„ tempì— ë„£ì–´ì¤Œ   
    let temp = stack.pop();   
    // ë§Œì•½ visitedì— tempê°€ í¬í•¨ë˜ì§€ ì•Šë‹¤ë©´(ë°©ë¬¸í–ˆë˜ ê²ƒì´ ì•„ë‹ˆë¼ë©´)
    if(!visited.includes(temp)){    
      visited.push(temp);
      // ê° í‚¤ì˜ ì•„ë˜ì— ìˆëŠ” ê²ƒë“¤ì„ ì‚´í´ë´„ ex) console.log(graph['E'])ì˜ ê²½ìš° ['D', 'A']
      // ë°©ë¬¸í–ˆë˜ ê²ƒì´ ì•„ë‹Œ ê²ƒë“¤ì„ subì— ë„£ì–´ì¤Œ
      let sub = graph[temp].filter(x => !visited.includes(x));
      for(let i of sub){
        stack.push(i);
      }
    }
  }
  // ë°©ë¬¸í•œ ê²ƒë“¤ return
  return visited;
}

console.log(dfs(graph, 'E').join(' '));   // E A B C D F
/**
[â“â“â“] ë¬¸ì œì— ì£¼ì–´ì§„ ë‹µê³¼ ë‹¤ë¥´ê²Œ ë‚˜ì˜¨ ì´ìœ 
: graphë¥¼ E F A ì´ëŸ° ìˆœì„œë¡œ ë‚˜ì—´í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼
const graph = {'A': ['E', 'C', 'B'],
              'B': ['A'],
              'C': ['A'],
              'D': ['E','F'],
              'E': ['D', 'A'],
              'F': ['D'],
              }
ì´ë ‡ê²Œ A ë¶€í„° ìˆœì„œëŒ€ë¡œ ë†“ê³  ì‹œì‘í•˜ë©´ E D F A C B ë¡œ ë‚˜ì˜´
í•˜ì§€ë§Œ ê²°êµ­ E A B C D Fë„ ì •ë‹µì´ë¼ ìƒê´€ì—†ìŒ
*/
----------------------------------------------------------
{/* 
<íê¸° ì½”ë“œ>
// ì´ë¯¸ íƒìƒ‰í•œ ê²ƒì€ í•„ìš”ì—†ìŒ
const graph = {'E': ['D', 'A'],
                'F': ['D'],
                'A': ['E', 'C', 'B'],
                'B': ['A'],
                'C': ['A'],
                'D': ['E','F']}


const firstKeyE = Object.keys(graph)[0];
// Eê°€ ë¬´ì¡°ê±´ ì²˜ìŒì´ë¯€ë¡œ ë„£ì–´ë†“ìŒ
let stack = [firstKeyE];
let result = [];

// stackì— ë‚¨ì•„ìˆì„ ë•Œê¹Œì§€ë§Œ
while(stack.length){
    let temp = []
    temp.push(stack.pop());     // DFSëŠ” ì„ ì…í›„ì¶œ (LIFO)

    
}

console.log(); 
*/}
----------------------------------------------------------

// ë‹µì•ˆ
const graph = {
    'A': ['E', 'C', 'B'],
    'B': ['A'],
    'C': ['A'],
    'D': ['E','F'],
    'E': ['D', 'A'],
    'F': ['D'],
  };
  
  
  function dfs(graph, start){
    let visited = [];
    let stack = [start];
  
    while (stack.length !== 0){
      let n = stack.pop();
      if (!visited.includes(n)){
        visited.push(n);
        let sub = graph[n].filter(x => !visited.includes(x));
        for(let i of sub) {
          stack.push(i);
        }
      }
    }
    return visited;
  }
  
  
  console.log(dfs(graph, 'E'));